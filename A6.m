clear;
clc;
Vs = 2400;
Req = 0.83;
Xeq = 0.546;
Ps=7500;
Rc= 25;
amps= -0.1:0.01:0.1;
b(1,:) = [-0.994987437106620,-0.995941765365827,-0.996794863550169,-0.997546991374341,-0.998198377077422,-0.998749217771909,-0.999199679743744,-0.999549898704412,-0.999799979995999,-0.999949998749938,1,0.999949998749938,0.999799979995999,0.999549898704412,0.999199679743744,0.998749217771909,0.998198377077422,0.997546991374341,0.996794863550169,0.995941765365827,0.994987437106620];
a(1,:) = sqrt(1-b.*b) ;
Ve = 2428.125;
Is= 31.25*(a+j*b);
Pcu = Req * 31.25^2;
Pcore = Ve/Rc;
efficiency = (Ps.*acos(a))./(Pcu+Pcore+Ps.*acos(a))*100;
plot(amps,efficiency,'b-');
hold on;
title ('Efficiency versus Power Fatcor');
xlabel('Power Factor');
ylabel('Efficiency (%)');
hold off;